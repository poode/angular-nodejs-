!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@progress/kendo-date-math"),require("tslib"),require("@telerik/kendo-intl")):"function"==typeof define&&define.amd?define(["@progress/kendo-date-math","tslib","@telerik/kendo-intl"],t):"object"==typeof exports?exports.KendoRecurrence=t(require("@progress/kendo-date-math"),require("tslib"),require("@telerik/kendo-intl")):e.KendoRecurrence=t(e["@progress/kendo-date-math"],e.tslib,e["@telerik/kendo-intl"])}(this,function(e,t,r){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);t.expand=n.expand;var a=r(12);t.parseRule=a.parseRule;var s=r(13);t.serializeRule=s.serializeRule},function(e,t,r){"use strict";function n(e,t){var r=t.rangeStart,n=t.rangeEnd;if(!e)return{success:!0,errorMessage:"",events:[]};var s,d=e.freq,U=u[d],C=e.start,g=o.duration(e.start,e.end);if(e.start.getTime()>e.end.getTime())return{success:!1,errorMessage:"Invalid recurrence rule: Start date ("+e.start+")is greater than End date "+e.start,events:[]};if(!U)return{success:!1,errorMessage:'Invalid recurrence frequency "'+d+'"',events:[]};var p=[],h=e.positions,m=h?0:1,v=e.exceptionDates,M=r.toTimezone(C.timezone),k=M,_=n.toTimezone(C.timezone),S=e.count;e.until&&e.until.getTime()<_.getTime()&&(_=e.until.clone());var Y=M.getHours(),w=M.getMinutes(),H=M.getSeconds(),O="yearly"===d||"monthly"===d||"weekly"===d;if(M.getTime()<C.getTime()||S||e.interval>1||O)M=C.clone();else{e.hours||(Y=C.getHours()),e.minutes||(w=C.getMinutes()),e.seconds||(H=C.getSeconds());var x=M.toUTCDate();x.setUTCHours(Y,w,H,C.getMilliseconds()),M=a.ZonedDate.fromUTCDate(x,M.timezone)}if(e._startPeriod=M.clone(),h){M=f(M,e),_=c(_,e);var F=l(_)-l(M);if(F<0){var b=_.toUTCDate();b.setUTCHours(M.getHours(),M.getMinutes(),M.getSeconds(),M.getMilliseconds()),_=a.ZonedDate.fromUTCDate(b,_.timezone)}e._startPeriod=M.clone(),s=c(M,e)}var E=l(M);e._startTime=new Date(E);var R=M.toUTCDate();for(U.setup&&(U.setup(e,C,R),M=a.ZonedDate.fromUTCDate(R,M.timezone)),R=M.toUTCDate(),U.limit(R,_.toUTCDate(),e),M=a.ZonedDate.fromUTCDate(R,M.timezone);M<=_;){var A=M.addTime(g),z=M>=k||A>k;if((z&&!T(v,M)||h)&&(p.push({start:i(M),end:i(A)}),"hourly"!==d&&"minutely"!==d&&"secondly"!==d||(E=l(i(M)),e._startTime=new Date(E))),h){if(R=M.toUTCDate(),U.next(R,e),U.limit(R,_.toUTCDate(),e),M=a.ZonedDate.fromUTCDate(R,M.timezone),M>s){var q=y(p.slice(m),C,h);q=D(q,v),p=p.slice(0,m).concat(q),s=c(M,e),m=p.length}if(S&&S===m)break}else{if(S&&S===m)break;m+=1,R=M.toUTCDate(),U.next(R,e),U.limit(R,_.toUTCDate(),e),M=a.ZonedDate.fromUTCDate(R,M.timezone)}}return{success:!0,errorMessage:"",events:p}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),s=r(3),o=r(6),u={hourly:new s.HourlyFrequency,daily:new s.DailyFrequency,weekly:new s.WeeklyFrequency,monthly:new s.MonthlyFrequency,yearly:new s.YearlyFrequency},i=function(e){return a.ZonedDate.fromLocalDate(e.toLocalDate(),e.timezone)},l=function(e){return e.getHours()*a.MS_PER_HOUR+e.getMinutes()*a.MS_PER_MINUTE+1e3*e.getSeconds()+e.getMilliseconds()},T=function(e,t){if(!e)return!1;for(var r=t.getTime()-t.getMilliseconds(),n=0,a=e.length;n<a;n++)if(e[n].getTime()===r)return!0;return!1},f=function(e,t){var r=e.toUTCDate();switch(t.freq){case"yearly":r.setUTCFullYear(r.getFullYear(),0,1);break;case"monthly":r.setUTCFullYear(r.getFullYear(),r.getMonth(),1);break;case"weekly":o.setDayOfWeek(r,t.weekStart,-1)}return t.hours&&r.setUTCHours(0),t.minutes&&r.setUTCMinutes(0),t.seconds&&r.setUTCSeconds(0),a.ZonedDate.fromUTCDate(r,e.timezone)},c=function(e,t){var r=e.toUTCDate();switch(t.freq){case"yearly":r.setUTCFullYear(r.getUTCFullYear(),11,31);break;case"monthly":r.setUTCFullYear(r.getUTCFullYear(),r.getUTCMonth()+1,0);break;case"weekly":o.setDayOfWeek(r,t.weekStart,-1),r.setUTCDate(r.getUTCDate()+6)}return t.hours&&r.setUTCHours(23),t.minutes&&r.setUTCMinutes(59),t.seconds&&r.setUTCSeconds(59),a.ZonedDate.fromUTCDate(r,e.timezone)},y=function(e,t,r){for(var n,a=e.length,s=[],o=0,u=r.length;o<u;o++){n=r[o],n<0?n=a+n:n-=1;var i=e[n];i&&i.start>=t&&s.push(i)}return s},D=function(e,t){for(var r=[],n=0;n<e.length;n++){var a=e[n];a&&!T(t,a.start)&&r.push(a)}return r};t.expand=n},function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),a=r(2),s=r(5),o=r(6),u=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],i=u.length,l=function(e,t){var r;return 0!==e&&e<t?r=t-e:(r=e%t,r&&(r=t-r)),r},T=function(e,t){e.setTime(e.getTime()+t)},f=function(e,t){return e+(e<t?7:0)},c=function(){function e(){}return e.prototype.next=function(e,t){var r,n,a=t._startTime;if(t.seconds)n=e.getUTCSeconds()+1,e.setUTCSeconds(n),a.setUTCSeconds(n);else{if(!t.minutes)return!1;r=e.getUTCMinutes()+1,e.setUTCMinutes(r),a.setUTCMinutes(r)}return!0},e.prototype.normalize=function(e){var t=e.rule;4===e.idx&&t.hours&&(t._startTime.setUTCHours(0),this._hour(e.date,t))},e.prototype.limit=function(e,t,r){for(var n,a,o,l,T,f=r.interval||1;e<=t;){for(o=a=void 0,T=e.getUTCDate(),l=0;l<i;l++){if(n=u[l],r[n]){if(o=s[n](e,t,r),void 0!==a&&o)break;a=o}o&&this.normalize({date:e,rule:r,day:T,idx:l})}if((1===f||!this.interval(r,e))&&l===i)break}},e.prototype.interval=function(e,t){var r,n,s=e._startPeriod.toUTCDate(),u=new Date(t),i=t.getUTCHours(),c=e.weekStart,y=e.interval,D=e.freq,d=!1,U=0,C=0,g=1;if("hourly"===D)n=e._startTime.getUTCHours(),u=u.getTime(),i!==n&&(u+=(n-i)*a.MS_PER_HOUR),u-=s.getTime(),r=Math.floor(u/a.MS_PER_HOUR),U=l(r,y),0!==U&&(this._hour(t,e,U),d=!0);else if("daily"===D)T(u,-s),r=Math.round(u/a.MS_PER_DAY),U=l(r,y),0!==U&&(this._date(t,e,U),d=!0);else if("weekly"===D){U=this.getNumberOfWeeksBetweenDates(s,t);var p=f(t.getUTCDay(),c),h=f(s.getUTCDay(),c);p<h&&(U+=1),U=l(U,y),0!==U&&(o.setDayOfWeek(t,e.weekStart,-1),t.setUTCDate(t.getUTCDate()+7*U),d=!0)}else"monthly"===D?(r=t.getUTCFullYear()-s.getUTCFullYear(),r=t.getUTCMonth()-s.getUTCMonth()+12*r,U=l(r,y),0!==U&&(g=t.getUTCDate(),t.setUTCFullYear(t.getUTCFullYear(),t.getUTCMonth()+U,g),d=!0)):"yearly"===D&&(r=t.getUTCFullYear()-s.getUTCFullYear(),U=l(r,y),e.months||(C=t.getUTCMonth()),e.yearDays||e.monthDays||e.weekDays||(g=t.getUTCDate()),0!==U&&(t.setUTCFullYear(t.getUTCFullYear()+U,C,g),d=!0));return d},e.prototype._hour=function(e,t,r){var n=t._startTime,a=n.getUTCHours();r&&(a+=r),e.setUTCHours(a),a%=24,n.setUTCHours(a)},e.prototype._date=function(e,t,r){e.setUTCDate(e.getUTCDate()+r)},e.prototype.getNumberOfWeeksBetweenDates=function(e,t){var r=(t.getTime()-e.getTime())/6048e5,n=Math.floor(r);return r-n>.99&&(n=Math.round(r)),n},e}();t.BaseFrequency=c;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.next=function(e,t){return c.prototype.next.call(this,e,t)||this._hour(e,t,1),!1},t.prototype.normalize=function(e){var t=e.rule;4===e.idx&&(t._startTime.setUTCHours(0),this._hour(e.date,t))},t}(c);t.HourlyFrequency=y;var D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.next=function(e,t){return c.prototype.next.call(this,e,t)||this[t.hours?"_hour":"_date"](e,t,1),!1},t}(c);t.DailyFrequency=D;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.setup=function(e,t){e.weekDays||(e.weekDays=[{day:t.getUTCDay(),offset:0}])},t}(D);t.WeeklyFrequency=d;var U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.next=function(e,t){var r;if(!c.prototype.next.call(this,e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else{for(r=e.getUTCDate(),e.setUTCMonth(e.getUTCMonth()+1);e.getUTCDate()!==r;)e.setUTCDate(r);this._hour(e,t)}return!1},t.prototype.normalize=function(t){var r=t.rule,n=t.date;0!==t.idx||r.monthDays||r.weekDays?e.prototype.normalize.call(this,t):n.setUTCDate(t.day)},t.prototype.setup=function(e,t,r){e.monthDays||e.weekDays||r.setUTCDate(t.getUTCDate())},t}(c);t.MonthlyFrequency=U;var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.next=function(e,t){var r;if(!c.prototype.next.call(this,e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else if(t.months){for(r=e.getUTCDate(),e.setUTCMonth(e.getUTCMonth()+1);e.getUTCDate()!==r;)e.setUTCDate(r);this._hour(e,t)}else e.setUTCFullYear(e.getUTCFullYear()+1),this._hour(e,t);return!1},t.prototype.setup=function(){},t}(U);t.YearlyFrequency=C},function(e,r){e.exports=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),a=r(6),s=function(e,t){return e-t},o=function(e,t){var r=a.toUTCDateTime(n.firstDayOfMonth(e)).getUTCDay(),s=7-(r+7-(t||7))||7;return s<0&&(s+=7),Math.ceil((e.getUTCDate()-s)/7)+1},u=function(e,t){var r,n;return e=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),r=e.getUTCFullYear(),void 0!==t?(a.setDayOfWeek(e,t,-1),e.setUTCDate(e.getUTCDate()+4)):e.setUTCDate(e.getUTCDate()+(4-(e.getUTCDay()||7))),n=Math.floor((e.getTime()-Date.UTC(r,0,1,-6))/864e5),1+Math.floor(n/7)},i=function(e,t){return e+(e<t?7:0)},l=function(e,t,r){var n=t.offset;if(!n)return o(e,r);var a=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+1,0)),s=o(a,r),u=i(t.day,r),l=u<i(new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),1)).getUTCDay(),r),T=u>i(a.getUTCDay(),r);return n<0?n=s+(n+1-(T?1:0)):l&&(n+=1),s-=T?1:0,n<(l?1:0)||n>s?null:n},T=function(e,t,r){return o(e,r)===l(e,t,r)},f=function(e,t){return o(new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+1,0)),t)},c=[0,31,60,91,121,152,182,213,244,274,305,335,366],y=[0,31,59,90,120,151,181,212,243,273,304,334,365],D=function(e){return e=e.getUTCFullYear(),e%4===0&&e%100!==0||e%400===0},d=function(e){var t=e.getUTCMonth(),r=D(e)?c[t]:y[t];return r+e.getUTCDate()},U=[31,28,31,30,31,30,31,31,30,31,30,31],C=function(e){var t=e.getUTCMonth();return 1===t?1===new Date(Date.UTC(e.getUTCFullYear(),1,29)).getUTCMonth()?29:28:U[t]},g=function(e,t,r){for(var n,a=0,s=e.length,o=[];a<s;a++){if(n=e[a],r&&(n=r(n)),t===n)return null;t<n&&o.push(n)}return o},p=function(e,t,r){for(var n,a,s,u,T=i(t.getUTCDay(),r),f=e.length,c=[],y=0;y<f;y++)if(a=e[y],u=o(t,r),n=l(t,a,r),null!==n)if(u<n)c.push(a);else if(u===n)if(s=i(a.day,r),T<s)c.push(a);else if(T===s)return null;return c};t.months=function(e,t,r){var n=r.months,a=g(n,e.getUTCMonth()+1),s=!1;return null!==a&&(a.length?e.setUTCMonth(a[0]-1,1):e.setUTCFullYear(e.getUTCFullYear()+1,n[0]-1,1),s=!0),s},t.monthDays=function(e,t,r){for(var n,a,o,u=!1,i=function(e){return e<0&&(e=n+e+1),e};e<=t;){if(a=e.getUTCMonth(),n=C(e),o=g(r.monthDays,e.getUTCDate(),i),null===o)return u;if(u=!0,o.length){if(e.setUTCMonth(a,o.sort(s)[0]),a===e.getUTCMonth())break}else e.setUTCMonth(a+1,1)}return u},t.yearDays=function(e,t,r){for(var n,a,o=!1,u=function(e){return e<0&&(e=n+e),e};e<t;){if(n=D(e)?366:365,a=g(r.yearDays,d(e),u),null===a)return o;if(o=!0,n=e.getUTCFullYear(),a.length){e.setUTCFullYear(n,0,a.sort(s)[0]);break}e.setUTCFullYear(n+1,0,1)}return o},t.weeks=function(e,t,r){for(var o,i,l,T=r.weekStart||n.Day.Monday,f=!1,c=function(e){return e<0&&(e=53+e),e};e<t;){if(i=g(r.weeks,u(e,T),c),null===i)return f;if(f=!0,o=e.getUTCFullYear(),i.length){l=7*i.sort(s)[0]-1,e.setUTCFullYear(o,0,l),a.setDayOfWeek(e,T,-1);break}e.setUTCFullYear(o+1,0,1)}return f},t.weekDays=function(e,t,r){var s,u=r.weekDays,i=r.weekStart||n.Day.Monday,l=p(u,e,i);if(null===l)return!1;l[0]||(l=u,a.setDayOfWeek(e,i));var c=l.map(function(r){var u=n.cloneDate(e);if(s=r.day,r.offset)for(;u<=t&&!T(u,r,i);)o(u,i)===f(u,i)?u.setUTCMonth(u.getUTCMonth()+1,1):(u.setUTCDate(u.getUTCDate()+7),a.setDayOfWeek(u,i,-1));return u.getUTCDay()!==s&&a.setDayOfWeek(u,s),u}).sort(function(e,t){return e.getTime()-t.getTime()}),y=c[0];return y&&e.setTime(y),!0},t.hours=function(e,t,r){var n=r.hours,a=r._startTime,s=a.getUTCHours(),o=g(n,s),u=!1;return null!==o&&(u=!0,e.setUTCHours(s),o.length?(o=o[0],e.setUTCHours(o)):(o=e.getUTCHours(),e.setUTCDate(e.getUTCDate()+1),o=n[0],e.setUTCHours(o)),r.minutes&&e.setUTCMinutes(0),a.setUTCHours(o,e.getUTCMinutes())),u},t.minutes=function(e,t,r){var n=r.minutes,a=e.getUTCMinutes(),s=g(n,a),o=r._startTime.getUTCHours(),u=!1;return null!==s&&(u=!0,s.length?s=s[0]:(o+=1,s=n[0]),r.seconds&&e.setUTCSeconds(0),e.setUTCHours(o,s),o%=24,r._startTime.setUTCHours(o,s,e.getUTCSeconds())),u},t.seconds=function(e,t,r){var n=r.seconds,a=r._startTime.getUTCHours(),s=g(n,e.getUTCSeconds()),o=e.getUTCMinutes(),u=!1;return null!==s&&(u=!0,s.length?e.setUTCSeconds(s[0]):(o+=1,e.setUTCMinutes(o,n[0]),o>59&&(o%=60,a=(a+1)%24)),r._startTime.setUTCHours(a,o,e.getUTCSeconds())),u}},function(e,t,r){"use strict";function n(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}Object.defineProperty(t,"__esModule",{value:!0});var a=r(4);a.__exportStar(r(7),t),a.__exportStar(r(8),t),a.__exportStar(r(9),t),a.__exportStar(r(11),t);var s=r(2),o=r(10),u=function(e,t){if(!t)return!1;var r=t.start,n=t.end;return e<r||e>n||0===e&&r<0};t.acsendingComparer=function(e,t){return e-t},t.parseArray=function(e,r){for(var n=[],a=0;a<e.length;a++){var s=parseInt(e[a],10);if(isNaN(s)||u(s,r))return[];n.push(s)}return n.sort(t.acsendingComparer)};var i=["yyyyMMddTHHmmssSSSXXX","yyyyMMddTHHmmssXXX","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"];t.toUTCDateTime=n,t.parseISODate=function(e,t){var r=o.parseDate(e)||o.parseDate(e,i);if(!r)return null;var a=t?n(r):r;return s.ZonedDate.fromUTCDate(a,t||"Etc/UTC")};var l={SU:s.Day.Sunday,MO:s.Day.Monday,TU:s.Day.Tuesday,WE:s.Day.Wednesday,TH:s.Day.Thursday,FR:s.Day.Friday,SA:s.Day.Saturday};t.parseWeekDay=function(e){return l[e]},t.parseWeekDayList=function(e){for(var r=[],n=0;n<e.length;n++){var a=e[n],s=t.parseWeekDay(a.substring(a.length-2).toUpperCase());if(void 0===s)return[];r.push({offset:parseInt(a.substring(0,a.length-2),10)||0,day:s})}return r},t.setDayOfWeek=function(e,t,r){void 0===r&&(r=1),t=(t-e.getUTCDay()+7*r)%7,e.setUTCDate(e.getUTCDate()+t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return!!e&&!!e[0]};t.hasModifiers=function(e){return r(e.seconds)||r(e.minutes)||r(e.hours)||r(e.yearDays)||r(e.monthDays)||r(e.weekDays)||r(e.months)||r(e.weeks)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6);t.parseDateTimeList=function(e){for(var t=e.split(";"),r=[],a=null,s=0;s<t.length;s++){var o=t[s].split(":"),u=o[0],i=o[1],l=void 0===i?"":i,T=u.indexOf("TZID");T!==-1&&(a=u.substring(T).split("=")[1]),r=l.split(",").map(function(e){return n.parseISODate(e,a)})}return r.length&&null!==r[0]?r:null},t.parseDateTime=function(e){var r=t.parseDateTimeList(e);return null===r?null:r[0]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10);t.serializeDates=function(e){if(!e||0===e.length)return"";var t=e[0].timezone,r="Etc/UTC"===t,a=r?"Z":"",s=e.map(function(e){return n.formatDate(e,"yyyyMMddTHHmmss")+a}),o=t&&!r?";TZID="+t:"";return o+":"+s.join(",")+" "}},function(e,t){e.exports=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.duration=function(e,t){return t.getTime()-e.getTime()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),a=function(e,t){return e+(e<t?7:0)},s=function(e){return function(t,r){return a(t.day,e)-a(r.day,e)}},o=function(e){var t=e.weekDays,r=e.weekStart;t&&t.sort(s(r))};t.parseRule=function(e){if(!e)return null;var t,r,a,s,u,i,l,T=e.recurrenceRule,f=e.weekStart,c=void 0===f?0:f,y={},D=0,d=!1;if(!T)return null;for(i=T.split("\n"),i[1]||T.indexOf("DTSTART")===-1&&T.indexOf("DTEND")===-1&&T.indexOf("EXDATE")===-1||(i=T.split(" ")),D=0,a=i.length;D<a;D++)u=(i[D]||"").trim(),u.indexOf("DTSTART")!==-1?y.start=n.parseDateTime(u):u.indexOf("DTEND")!==-1?y.end=n.parseDateTime(u):u.indexOf("EXDATE")!==-1?y.exceptionDates=n.parseDateTimeList(u):u.indexOf("RRULE")!==-1?s=u.substring(6):u.trim()&&(s=u);for(s=s.split(";"),D=0,a=s.length;D<a;D++)switch(l=s[D],t=l.split("="),r=(t[1]||"").trim().split(","),t[0].trim().toUpperCase()){case"FREQ":y.freq=r[0].toLowerCase();break;case"UNTIL":y.until=n.parseISODate(r[0]);break;case"COUNT":y.count=parseInt(r[0],10);break;case"INTERVAL":y.interval=parseInt(r[0],10);break;case"BYSECOND":y.seconds=n.parseArray(r,{start:0,end:60}),d=!0;break;case"BYMINUTE":y.minutes=n.parseArray(r,{start:0,end:59}),d=!0;break;case"BYHOUR":y.hours=n.parseArray(r,{start:0,end:23}),d=!0;break;case"BYMONTHDAY":y.monthDays=n.parseArray(r,{start:-31,end:31}),d=!0;break;case"BYYEARDAY":y.yearDays=n.parseArray(r,{start:-366,end:366}),d=!0;break;case"BYMONTH":y.months=n.parseArray(r,{start:1,end:12}),d=!0;break;case"BYDAY":y.weekDays=n.parseWeekDayList(r),d=!0;break;case"BYWEEKNO":y.weeks=n.parseArray(r,{start:-53,end:53}),d=!0;break;case"BYSETPOS":y.positions=n.parseArray(r,{start:-366,end:366});break;case"WKST":y.weekStart=n.parseWeekDay(r[0])}return void 0===y.freq||void 0!==y.count&&y.until?null:(void 0===y.weekStart&&(y.weekStart=c),y.interval||(y.interval=1),y.positions&&!d&&(y.positions=[]),o(y),y)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),a=r(6),s={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},o=function(e){for(var t,r,n=0,a=e.length,o=[];n<a;n++)t=e[n],"string"==typeof t?r=t:(r=""+s[t.day],t.offset&&(r=t.offset+r)),o.push(r);return o.toString()};t.serializeRule=function(e,t){if(!e||!e.freq)return null;var r=e.weekStart,u="FREQ="+e.freq.toUpperCase(),i="",l="",T="",f=e.until;return e.interval>1&&(u+=";INTERVAL="+e.interval),e.count&&(u+=";COUNT="+e.count),f&&(u+=";UNTIL="+n.toString(f.toTimezone("Etc/UTC"),"yyyyMMddTHHmmss")+"Z"),e.months&&(u+=";BYMONTH="+e.months),e.weeks&&(u+=";BYWEEKNO="+e.weeks),e.yearDays&&(u+=";BYYEARDAY="+e.yearDays),e.monthDays&&(u+=";BYMONTHDAY="+e.monthDays),e.weekDays&&(u+=";BYDAY="+o(e.weekDays)),e.hours&&(u+=";BYHOUR="+e.hours),e.minutes&&(u+=";BYMINUTE="+e.minutes),e.seconds&&(u+=";BYSECOND="+e.seconds),e.positions&&(u+=";BYSETPOS="+e.positions),void 0!==r&&(u+=";WKST="+s[r]),e.start&&(l="DTSTART"+a.serializeDates([e.start])),e.end&&(T="DTEND"+a.serializeDates([e.end])),e.exceptionDates&&(i="EXDATE"+a.serializeDates(e.exceptionDates)),(l||T||i)&&(u=l+T+i+"RRULE:"+u),u}}])});